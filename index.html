<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Plan de estudios ‚ãÜ‚≠íÀö ìçùÔΩ°‚ãÜ (2016)</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
/* ==========================
   ROSA PASTEL + FLORES (SVG)
   ========================== */

:root{
  --bg-1: #fff5f8;
  --bg-2: #ffeef4;
  --panel: #ffffff;

  --rose-50: #fff6fa;
  --rose-100: #ffe9f1;
  --rose-200: #ffd4e2;
  --rose-300: #ffbcd2;
  --rose-400: #ffa2c1;

  --primary: #d86fa8;
  --accent: #f3a6c8;
  --ok: #86d8ac;
  --danger: #f290a8;

  --shadow: 0 8px 24px rgba(180,100,140,0.12);
  --radius: 16px;

  font-family: "Poppins", "Segoe UI", Roboto, Arial, sans-serif;
}

/* PATR√ìN DE FLORES CUTE (SVG embebido como background) */
body{
  margin:0; padding:28px;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;

  background: linear-gradient(180deg,var(--bg-1),var(--bg-2)),
    url("data:image/svg+xml;utf8,
      <svg width='120' height='120' viewBox='0 0 120 120'
      xmlns='http://www.w3.org/2000/svg'>
        <rect width='120' height='120' fill='%23ffe9f1'/>
        <g opacity='0.45'>
          <circle cx='30' cy='30' r='12' fill='%23ffd4e2'/>
          <circle cx='31' cy='28' r='4' fill='%23ffbcd2'/>
          <circle cx='29' cy='33' r='4' fill='%23ffa2c1'/>

          <circle cx='90' cy='40' r='12' fill='%23ffd4e2'/>
          <circle cx='92' cy='38' r='4' fill='%23ffbcd2'/>
          <circle cx='87' cy='42' r='4' fill='%23ffa2c1'/>

          <circle cx='60' cy='90' r='12' fill='%23ffd4e2'/>
          <circle cx='62' cy='88' r='4' fill='%23ffbcd2'/>
          <circle cx='57' cy='93' r='4' fill='%23ffa2c1'/>
        </g>
      </svg>
    ");
  background-size: 220px 220px;
  background-repeat: repeat;
  color:#3b2b3b;
}

.container{max-width:1200px;margin:0 auto}

/* HEADER */
header{
  display:flex;justify-content:space-between;align-items:center;
  flex-wrap:wrap;gap:16px;margin-bottom:24px;
}
h1{
  margin:0;font-size:24px;color:var(--primary);font-weight:700;
}
.subtitle{
  margin-top:4px;font-size:13px;color:#6f4a61;
}

/* CONTROLES */
.controls{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
button{
  border:0;border-radius:12px;
  padding:9px 14px;cursor:pointer;font-size:13px;
  box-shadow:var(--shadow);
  transition:transform .12s ease, opacity .12s ease;
}
button:hover{transform:translateY(-3px);opacity:.95}
#export{background:linear-gradient(180deg,var(--rose-200),var(--rose-300));color:#542538}
#import{background:linear-gradient(180deg,var(--rose-100),var(--rose-200));color:#52243a}
#reset{background:linear-gradient(180deg,#fff1f7,#ffdbe7);color:#7c2a47}

/* GRID */
.grid{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:16px;
}
@media(max-width:1100px){.grid{grid-template-columns:repeat(3,1fr)}}
@media(max-width:800px){.grid{grid-template-columns:repeat(2,1fr)}}
@media(max-width:580px){.grid{grid-template-columns:1fr}}

/* SEMESTRES */
.semester{
  background:linear-gradient(180deg,#fff,#fff4f8);
  border-radius:var(--radius);
  padding:16px;
  box-shadow:var(--shadow);
  border:1px solid rgba(255,190,220,.25);
}
.semester h3{
  margin:0 0 8px 0;font-size:16px;color:#803552;
  display:flex;justify-content:space-between;
}
.semester h3 span{
  font-size:13px;color:#9e6b7f;
}

/* CURSOS */
.course-list{display:flex;flex-direction:column;gap:10px}
.course{
  display:flex;justify-content:space-between;align-items:center;
  background:linear-gradient(180deg,#fff,#ffeff6);
  border-radius:14px;border:1px solid rgba(255,200,220,.7);
  padding:10px;gap:6px;
  box-shadow:0 6px 14px rgba(160,90,130,0.06);
  cursor:pointer;position:relative;
  transition:transform .12s ease, box-shadow .12s ease, opacity .12s ease;
}
.course:hover{
  transform:translateY(-4px);
  box-shadow:0 12px 28px rgba(150,80,120,0.12);
}
.course.locked{opacity:0.62;cursor:default;transform:none;box-shadow:none}

/* Izquierda */
.left{display:flex;align-items:center;gap:10px}
.code{
  padding:8px;
  background:var(--rose-100);
  border-radius:10px;
  color:#5e243d;
  min-width:70px;text-align:center;
  font-size:12px;font-weight:700;
}
.meta .title{font-weight:600;color:#50243e}
.meta .sub{font-size:12px;color:#8f687a}

/* Derecha */
.status .badge{
  padding:7px 9px;border-radius:10px;font-size:12px;font-weight:700;
}
.badge.approved{
  background:linear-gradient(180deg,#dff8ea,#c8eedc);
  color:#155a3c;
}
.badge.locked{
  background:linear-gradient(180deg,#ffd6e3,#ffc3d8);
  color:#6a253b;
}
.badge.available{
  background:linear-gradient(180deg,#ffeef4,#ffdde8);
  color:#6b2a44;
}

/* Tooltip */
.tooltip{
  position:absolute;top:calc(100% + 8px);left:12px;
  background:#703351;color:#fff;
  padding:8px 10px;border-radius:10px;
  box-shadow:0 10px 26px rgba(60,20,80,0.25);
  font-size:12px;white-space:nowrap;display:none;
}
.course.locked:hover .tooltip{display:block}

/* Footer */
footer{
  margin-top:24px;
  display:flex;justify-content:space-between;align-items:center;
  gap:10px;flex-wrap:wrap;font-size:13px;color:#6f4a61;
}
.legend{display:flex;gap:8px;align-items:center}
.legend .item{
  background:#fff;border-radius:10px;padding:6px 8px;
  border:1px solid rgba(255,200,220,.5);
  display:flex;gap:6px;align-items:center;
}
@media(max-width:700px){header{flex-direction:column;align-items:flex-start}}
</style>
</head>

<body>
<div class="container">
<header>
  <div>
    <h1>Plan de estudios ‚ãÜ‚≠íÀö ìçùÔΩ°‚ãÜ (2016)</h1>
    <div class="subtitle">
      Malla curricular interactiva ‚Äî Derecho. Marca las materias aprobadas; las que dependan de otras se bloquear√°n hasta cumplir los prerrequisitos.
    </div>
  </div>
  <div class="controls">
    <button id="export">Exportar progreso</button>
    <button id="import">Importar progreso</button>
    <button id="reset">Borrar progreso</button>
  </div>
</header>

<main><div id="malla" class="grid"></div></main>

<footer>
  <div class="legend">
    <div class="item"><div style="width:12px;height:12px;background:linear-gradient(180deg,#dff8ea,#c8eedc);border-radius:4px"></div>Aprobada</div>
    <div class="item"><div style="width:12px;height:12px;background:linear-gradient(180deg,#ffd6e3,#ffc3d8);border-radius:4px"></div>Bloqueada</div>
    <div class="item"><div style="width:12px;height:12px;background:linear-gradient(180deg,#ffeef4,#ffdde8);border-radius:4px"></div>Disponible</div>
  </div>
  <div>Fuente: Plan de estudios Derecho 2016 (revisi√≥n 2019)</div>
</footer>
</div>

<script>
/* ==========================
   MALLA COMPLETA (12 semestres)
   ========================== */

const MALLA = [
  {sem:"I", courses:[
    {code:"DE16-0101", name:"Comunicaci√≥n I", prereq:[]},
    {code:"DE16-0102", name:"Introducci√≥n a la Filosof√≠a", prereq:[]},
    {code:"DE16-0103", name:"Introducci√≥n a la Vida Universitaria", prereq:[]},
    {code:"DE16-0104", name:"Introducci√≥n al Estudio del Derecho", prereq:[]},
    {code:"DE16-0105", name:"Metodolog√≠a del Estudio", prereq:[]},
    {code:"DE16-0106", name:"Taller de Liderazgo", prereq:[]},
    {code:"DE16-0107", name:"Teatro", prereq:[]}
  ]},
  {sem:"II", courses:[
    {code:"DE16-0208", name:"Antropolog√≠a Filos√≥fica y Teol√≥gica", prereq:["DE16-0102"]},
    {code:"DE16-0209", name:"Comunicaci√≥n II", prereq:["DE16-0101"]},
    {code:"DE16-0210", name:"Historia de la Cultura Occidental I", prereq:["DE16-0102"]},
    {code:"DE16-0211", name:"Historia General del Derecho", prereq:["DE16-0105","DE16-0104"]},
    {code:"DE16-0212", name:"Ret√≥rica y Dial√©ctica", prereq:["DE16-0104","DE16-0107","DE16-0101"]},
    {code:"DE16-0213", name:"Teor√≠a del Derecho", prereq:["DE16-0105","DE16-0106","DE16-0104"]},
    {code:"DE16-0214", name:"Apreciaci√≥n Art√≠stica (EH)", prereq:[]},
    {code:"DE16-0215", name:"Apreciaci√≥n Literaria (EH)", prereq:[]}
  ]},
  {sem:"III", courses:[
    {code:"DE16-0316", name:"Bases Romanistas del Derecho Contempor√°neo", prereq:["DE16-0211"]},
    {code:"DE16-0317", name:"Ciencia Pol√≠tica", prereq:["DE16-0102","DE16-0213"]},
    {code:"DE16-0318", name:"Derecho Natural", prereq:["DE16-0208","DE16-0209","DE16-0213","DE16-0212"]},
    {code:"DE16-0319", name:"Historia de la Cultura Occidental II", prereq:["DE16-0210"]},
    {code:"DE16-0320", name:"L√≥gica y Gnoseolog√≠a", prereq:["DE16-0208"]},
    {code:"DE16-0321", name:"Matem√°tica para abogados", prereq:["DE16-0213"]},
    {code:"DE16-0322", name:"Apreciaci√≥n Musical (EH)", prereq:[]},
    {code:"DE16-0323", name:"Sociolog√≠a y Derecho (EH)", prereq:["DE16-0213"]}
  ]},
  {sem:"IV", courses:[
    {code:"DE16-0424", name:"Derecho Constitucional I", prereq:["DE16-0318","DE16-0317"]},
    {code:"DE16-0425", name:"Derecho de Personas", prereq:["DE16-0318","DE16-0316"]},
    {code:"DE16-0426", name:"Derecho Penal General", prereq:["DE16-0318"]},
    {code:"DE16-0427", name:"Derecho y Econom√≠a", prereq:["DE16-0321"]},
    {code:"DE16-0428", name:"Psicolog√≠a", prereq:["DE16-0208"]},
    {code:"DE16-0429", name:"Sistema de Justicia y Mecanismos de Soluci√≥n de Conflictos", prereq:["DE16-0213"]},
    {code:"DE16-0430", name:"Teolog√≠a I", prereq:["DE16-0208"]}
  ]},
  {sem:"V", courses:[
    {code:"DE16-0531", name:"Acto Jur√≠dico", prereq:["DE16-0425"]},
    {code:"DE16-0532", name:"Derecho Administrativo I", prereq:["DE16-0424"]},
    {code:"DE16-0533", name:"Derecho Constitucional II", prereq:["DE16-0429","DE16-0424"]},
    {code:"DE16-0534", name:"Derecho Penal Especial", prereq:["DE16-0426"]},
    {code:"DE16-0535", name:"Derecho Procesal General", prereq:["DE16-0429"]},
    {code:"DE16-0536", name:"Metodolog√≠a de la Investigaci√≥n Jur√≠dica", prereq:["DE16-0320","DE16-0426","DE16-0425","DE16-0424"]},
    {code:"DE16-0537", name:"Moral", prereq:["DE16-0430","DE16-0320"]}
  ]},
  {sem:"VI", courses:[
    {code:"DE16-0638", name:"Argumentaci√≥n Jur√≠dica", prereq:["DE16-0536","DE16-0535","DE16-0533"]},
    {code:"DE16-0639", name:"Derecho Administrativo II", prereq:["DE16-0532"]},
    {code:"DE16-0640", name:"Derecho Internacional P√∫blico", prereq:["DE16-0533"]},
    {code:"DE16-0641", name:"Derecho Procesal Civil I", prereq:["DE16-0535"]},
    {code:"DE16-0642", name:"Derechos Reales", prereq:["DE16-0427","DE16-0531"]},
    {code:"DE16-0643", name:"Suficiencia de Mitad de Carrera", prereq:["DE16-0536"]},
    {code:"DE16-0644", name:"Teolog√≠a II", prereq:["DE16-0430"]},
    {code:"DE16-0645", name:"Seminario Penal (Penal Econ√≥mico y AP)", prereq:["DE16-0534"]},
    {code:"DE16-0646", name:"Seminario Introducci√≥n al Derecho Comparado", prereq:["DE16-0536"]},
    {code:"DE16-0647", name:"Historia de la Filosof√≠a Pol√≠tica (EH)", prereq:["DE16-0537","DE16-0424"]}
  ]},
  {sem:"VII", courses:[
    {code:"DE16-0748", name:"Contabilidad y An√°lisis Financiero", prereq:["__128_CREDITS__"]},
    {code:"DE16-0749", name:"Derecho de Obligaciones", prereq:["DE16-0642"]},
    {code:"DE16-0750", name:"Derecho Procesal Civil II", prereq:["DE16-0642","DE16-0641","DE16-0638"]},
    {code:"DE16-0751", name:"Derecho Procesal Constitucional", prereq:["DE16-0638"]},
    {code:"DE16-0752", name:"Derecho Tributario I", prereq:["DE16-0639"]},
    {code:"DE16-0753", name:"Historia del Per√∫ I", prereq:["DE16-0319"]},
    {code:"DE16-0754", name:"Derecho Municipal y Regional (EE4)", prereq:["DE16-0639"]},
    {code:"DE16-0755", name:"Propiedad Intelectual (EE3)", prereq:["DE16-0642","DE16-0639"]},
    {code:"DE16-0756", name:"Seminario Organizaciones Internacionales (EE2)", prereq:["DE16-0640"]}
  ]},
  {sem:"VIII", courses:[
    {code:"DE16-0857", name:"Contratos I: Teor√≠a General", prereq:["DE16-0749"]},
    {code:"DE16-0858", name:"Derecho Laboral I", prereq:["DE16-0640","DE16-0749"]},
    {code:"DE16-0859", name:"Derecho Mercantil I", prereq:["DE16-0749"]},
    {code:"DE16-0860", name:"Procesal Penal", prereq:["DE16-0638","DE16-0534"]},
    {code:"DE16-0861", name:"Tributario II: Renta", prereq:["DE16-0752","DE16-0748"]},
    {code:"DE16-0862", name:"Historia del Per√∫ II", prereq:["DE16-0753"]},
    {code:"DE16-0863", name:"Derecho y Biotecnolog√≠a (EE2)", prereq:["DE16-0640","DE16-0860"]},
    {code:"DE16-0864", name:"Criminal√≠stica/Forenses (EE1)", prereq:[]},
    {code:"DE16-0865", name:"Derecho de la Integraci√≥n (EE2)", prereq:["DE16-0640"]}
  ]},
  {sem:"IX", courses:[
    {code:"DE16-0966", name:"Contratos II: Contratos T√≠picos", prereq:["DE16-0857"]},
    {code:"DE16-0967", name:"Derecho Laboral II", prereq:["DE16-0858"]},
    {code:"DE16-0968", name:"Mercantil II: Sociedades", prereq:["DE16-0859","DE16-0748"]},
    {code:"DE16-0969", name:"Tributario III: Consumo y Mun.", prereq:["DE16-0861"]},
    {code:"DE16-0970", name:"Ense√±anza Social de la Iglesia", prereq:["DE16-0862","DE16-0537"]},
    {code:"DE16-0971", name:"Taller de Negociaci√≥n", prereq:["DE16-0857","DE16-0428"]},
    {code:"DE16-0972", name:"Procesal Laboral (EE1)", prereq:["DE16-0858","DE16-0638"]},
    {code:"DE16-0973", name:"Derecho y Nuevas Tecnolog√≠as (EE3)", prereq:["DE16-0859","DE16-0857"]},
    {code:"DE16-0974", name:"Taller de Litigaci√≥n Oral (EE1)", prereq:["DE16-0860","DE16-0858","DE16-0638"]}
  ]},
  {sem:"X", courses:[
    {code:"DE16-1075", name:"Arbitraje", prereq:["DE16-0535","DE16-0971","DE16-0968"]},
    {code:"DE16-1076", name:"Derecho de Familia", prereq:["DE16-0749","DE16-0970"]},
    {code:"DE16-1077", name:"√âtica Profesional", prereq:["DE16-0537"]},
    {code:"DE16-1078", name:"Filosof√≠a del Derecho", prereq:["DE16-0751","DE16-0537"]},
    {code:"DE16-1079", name:"Responsabilidad Civil y Seguros", prereq:["DE16-0857"]},
    {code:"DE16-1080", name:"Seminario Inv. Jur√≠dica I", prereq:["DE16-0643","__190_CREDITS__"]},
    {code:"DE16-1081", name:"Consumidor y Cr√©dito (EE1-EE3)", prereq:["DE16-0639","DE16-0968"]},
    {code:"DE16-1082", name:"Aduanero y Comercio Int. (EE2-EE3)", prereq:["DE16-0857","DE16-0969"]},
    {code:"DE16-1083", name:"Contrataci√≥n Estatal y APP (EE4)", prereq:["DE16-0857"]}
  ]},
  {sem:"XI", courses:[
    {code:"DE16-1184", name:"Contratos Modernos", prereq:["DE16-1079","DE16-0968"]},
    {code:"DE16-1185", name:"Sucesiones", prereq:["DE16-1076"]},
    {code:"DE16-1186", name:"Derechos Humanos", prereq:["DE16-1078","DE16-0970"]},
    {code:"DE16-1187", name:"Derecho Can√≥nico/Eclesi√°stico", prereq:["DE16-1078","DE16-1076"]},
    {code:"DE16-1188", name:"Financiamiento y Garant√≠as", prereq:["DE16-0748","DE16-0639","DE16-1079","DE16-0968"]},
    {code:"DE16-1189", name:"Seminario Inv. Jur√≠dica II", prereq:["DE16-1080"]},
    {code:"DE16-1190", name:"Derecho Bancario (EE3)", prereq:["DE16-1079","DE16-0968"]},
    {code:"DE16-1191", name:"Derecho Minero (EE4)", prereq:["DE16-0968","DE16-0639"]},
    {code:"DE16-1192", name:"Competencia y Regulaci√≥n (EE4)", prereq:["DE16-0639","DE16-0427","DE16-0968"]}
  ]},
  {sem:"XII", courses:[
    {code:"DE16-1293", name:"Derecho Internacional Privado", prereq:["DE16-1185"]},
    {code:"DE16-1294", name:"Notarial y Registral", prereq:["DE16-0966","DE16-0968","DE16-1185"]},
    {code:"DE16-1295", name:"Ingl√©s T√©cnico Jur√≠dico", prereq:[]},
    {code:"DE16-1296", name:"Pr√°ctica Empresarial", prereq:["DE16-1188","DE16-1184","DE16-1077","DE16-0969","DE16-0967"]},
    {code:"DE16-1297", name:"Pr√°ctica Forense Civil y Penal", prereq:["DE16-0860","DE16-0968","DE16-1188","DE16-1077"]},
    {code:"DE16-1298", name:"Pr√°ctica Forense Const. y Adm.", prereq:["DE16-0639","DE16-1187","DE16-1186","DE16-1077"]},
    {code:"DE16-12101", name:"Arbitraje Comercial Int. (EE1-EE2)", prereq:["DE16-1188","DE16-1075"]},
    {code:"DE16-1299", name:"Derecho de la Energ√≠a (EE4)", prereq:["DE16-1192"]},
    {code:"DE16-12100", name:"Direcci√≥n y Liderazgo Estrat√©gico (EE3-EE4)", prereq:["DE16-0748","DE16-1077","DE16-0106"]}
  ]}
];

/* STORAGE */
const STORAGE_KEY = "malla_derecho_flores_pastel_v1";

function loadSaved(){try{return JSON.parse(localStorage.getItem(STORAGE_KEY)||"{}");}catch{return{}}}
function saveSaved(o){localStorage.setItem(STORAGE_KEY,JSON.stringify(o))}

function isUnlocked(code,saved){
  for(const sem of MALLA){
    const c=sem.courses.find(x=>x.code===code);
    if(c){
      for(const p of c.prereq){
        if(p.startsWith("__")) continue;
        if(!saved[p]) return false;
      }
      return true;
    }
  }
  return true;
}

/* Render */
function render(){
  const m=document.getElementById("malla");
  m.innerHTML="";
  const saved=loadSaved();

  for(const sem of MALLA){
    const box=document.createElement("div");
    box.className="semester";
    box.innerHTML=`<h3>Semestre ${sem.sem}<span>${sem.courses.length} cursos</span></h3>`;
    const list=document.createElement("div");
    list.className="course-list";

    for(const course of sem.courses){
      const unlocked=isUnlocked(course.code,saved);
      const approved=!!saved[course.code];

      const item=document.createElement("div");
      item.className=`course${unlocked?"":" locked"}`;
      item.dataset.code=course.code;
      item.tabIndex=unlocked?0:-1;

      item.innerHTML=`
        <div class="left">
          <div class="code">${course.code.replace("DE16-","D-")}</div>
          <div class="meta">
            <div class="title">${course.name}</div>
            <div class="sub">${course.prereq.length?"Prereq: "+course.prereq.join(", "):"Sin prerrequisitos"}</div>
          </div>
        </div>
        <div class="status">
          <div class="badge ${approved?"approved":(unlocked?"available":"locked")}">
            ${approved?"Aprobada":(unlocked?"Disponible":"Bloqueada")}
          </div>
        </div>
      `;

      if(!unlocked){
        const missing=course.prereq.filter(p=>!p.startsWith("__") && !saved[p]);
        const t=document.createElement("div");
        t.className="tooltip";
        t.innerHTML=`<strong>Faltan:</strong> ${missing.join(", ")}`;
        item.appendChild(t);
      }

      item.addEventListener("click",()=>{
        const s=loadSaved();
        if(!isUnlocked(course.code,s)){
          item.animate([{transform:"translateY(0)"},{transform:"translateY(-5px)"},{transform:"translateY(0)"}],{duration:180});
          return;
        }
        if(s[course.code]) delete s[course.code];
        else s[course.code]=true;
        saveSaved(s);
        render();
      });

      list.appendChild(item);
    }

    box.appendChild(list);
    m.appendChild(box);
  }
}

/* Botones */
document.getElementById("reset").onclick=()=>{
  if(confirm("¬øBorrar todo el progreso?")){
    localStorage.removeItem(STORAGE_KEY);
    render();
  }
};
document.getElementById("export").onclick=()=>{
  const blob=new Blob([JSON.stringify(loadSaved(),null,2)],{type:"application/json"});
  const a=document.createElement("a");
  a.href=URL.createObjectURL(blob);
  a.download="progreso_malla_flores.json";
  a.click();
};
document.getElementById("import").onclick=()=>{
  const i=document.createElement("input");
  i.type="file";i.accept="application/json";
  i.onchange=()=>{
    const f=i.files[0];
    const r=new FileReader();
    r.onload=e=>{
      try{
        const j=JSON.parse(e.target.result);
        saveSaved(j);render();
        alert("Importado correctamente.");
      }catch{alert("Archivo inv√°lido.");}
    };
    r.readAsText(f);
  };
  i.click();
};

render();
</script>

</body>
</html>
